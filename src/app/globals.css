@import "tailwindcss";

@theme {
  /* Paleta Imobiliária - Light Mode */
  --color-background: 210 20% 98% / 1;
  --color-foreground: 222 47% 11% / 1;
  --color-card: 0 0% 100% / 1;
  --color-card-foreground: 222 47% 11% / 1;
  --color-popover: 0 0% 100% / 1;
  --color-popover-foreground: 222 47% 11% / 1;

  /* Primary - Azul Profissional (Confiança) */
  --color-primary: 217 91% 60% / 1;
  --color-primary-foreground: 0 0% 100% / 1;

  /* Secondary - Dourado/Âmbar (Luxo e Investimento) */
  --color-secondary: 43 96% 56% / 1;
  --color-secondary-foreground: 0 0% 100% / 1;

  /* Accent - Verde Esmeralda (Crescimento) */
  --color-accent: 160 84% 39% / 1;
  --color-accent-foreground: 0 0% 100% / 1;

  --color-muted: 210 40% 96% / 1;
  --color-muted-foreground: 215 16% 47% / 1;

  --color-destructive: 0 84% 60% / 1;
  --color-destructive-foreground: 0 0% 98% / 1;

  --color-border: 214 32% 91% / 1;
  --color-input: 214 32% 91% / 1;
  --color-ring: 217 91% 60% / 1;
  --radius: 0.75rem;

  /* Cores extras para o tema imobiliário */
  --color-success: 160 84% 39% / 1;
  --color-success-foreground: 0 0% 100% / 1;
  --color-warning: 43 96% 56% / 1;
  --color-warning-foreground: 0 0% 100% / 1;
  --color-info: 217 91% 60% / 1;
  --color-info-foreground: 0 0% 100% / 1;
}

@media (prefers-color-scheme: dark) {
  @theme {
    /* Paleta Imobiliária - Dark Mode */
    --color-background: 222 47% 11% / 1;
    --color-foreground: 210 40% 98% / 1;
    --color-card: 217 33% 17% / 1;
    --color-card-foreground: 210 40% 98% / 1;
    --color-popover: 217 33% 17% / 1;
    --color-popover-foreground: 210 40% 98% / 1;

    /* Primary - Azul mais claro para dark mode */
    --color-primary: 217 91% 60% / 1;
    --color-primary-foreground: 0 0% 100% / 1;

    /* Secondary - Dourado vibrante */
    --color-secondary: 43 96% 56% / 1;
    --color-secondary-foreground: 0 0% 100% / 1;

    /* Accent - Verde brilhante */
    --color-accent: 160 84% 39% / 1;
    --color-accent-foreground: 0 0% 100% / 1;

    --color-muted: 217 33% 17% / 1;
    --color-muted-foreground: 215 20% 65% / 1;

    --color-destructive: 0 63% 31% / 1;
    --color-destructive-foreground: 210 40% 98% / 1;

    --color-border: 217 33% 17% / 1;
    --color-input: 217 33% 17% / 1;
    --color-ring: 217 91% 60% / 1;

    /* Cores extras dark mode */
    --color-success: 160 84% 39% / 1;
    --color-success-foreground: 0 0% 100% / 1;
    --color-warning: 43 96% 56% / 1;
    --color-warning-foreground: 0 0% 100% / 1;
    --color-info: 217 91% 60% / 1;
    --color-info-foreground: 0 0% 100% / 1;
  }
}

* {
  border-color: hsl(var(--color-border));
}

body {
  background-color: hsl(var(--color-background));
  color: hsl(var(--color-foreground));
  font-feature-settings: "rlig" 1, "calt" 1;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Força todos os backgrounds a serem 100% opacos */
.bg-background {
  background-color: hsl(var(--color-background)) !important;
}

.bg-card {
  background-color: hsl(var(--color-card)) !important;
}

.bg-popover {
  background-color: hsl(var(--color-popover)) !important;
}

.bg-muted {
  background-color: hsl(var(--color-muted)) !important;
}

.bg-accent {
  background-color: hsl(var(--color-accent)) !important;
}

.bg-primary {
  background-color: hsl(var(--color-primary)) !important;
}

.bg-secondary {
  background-color: hsl(var(--color-secondary)) !important;
}

/* ==========================================
   FORÇA OPACIDADE TOTAL EM TODOS OS COMPONENTES DE FORMULÁRIO
   ========================================== */

/* Inputs de texto, número, email, etc - Removido !important para permitir estilos do componente */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
input:not([type]),
textarea,
select {
  /* Removido: background-color forçado para permitir estilos do componente */
}

/* Inputs de arquivo */
input[type="file"] {
  background-color: hsl(var(--color-background));
}

input[type="file"]::file-selector-button {
  background-color: hsl(var(--color-muted));
}

/* Checkbox e Radio */
input[type="checkbox"],
input[type="radio"] {
  background-color: hsl(var(--color-background));
}

/* Select customizados (Radix UI) - Removido !important */
[role="combobox"],
[data-radix-select-trigger],
button[data-radix-select-trigger] {
  /* Estilo controlado pelo componente */
}

/* Dropdowns e Popovers */
[data-radix-select-content],
[data-radix-dropdown-menu-content],
[data-radix-popover-content],
[role="menu"],
[role="listbox"] {
  background-color: hsl(var(--color-popover));
}

/* Garante que cards e containers sejam opacos */
[class*="card"],
aside,
nav,
header,
footer {
  background-color: hsl(var(--color-background)) !important;
}

/* Dialog e Modal */
[role="dialog"],
[data-radix-dialog-content] {
  background-color: hsl(var(--color-background)) !important;
}

/* Botões */
button:not([class*="bg-primary"]):not([class*="bg-secondary"]):not([class*="bg-destructive"]) {
  background-color: hsl(var(--color-background)) !important;
}

/* Form Labels e Descriptions */
label,
[data-slot="label"] {
  opacity: 1 !important;
}

/* Tabs */
[role="tablist"],
[role="tab"],
[role="tabpanel"] {
  background-color: hsl(var(--color-background)) !important;
}

/* Forçar opacidade 1 em todos os elementos do formulário */
form input,
form textarea,
form select,
form button[type="submit"],
form button[type="button"] {
  opacity: 1 !important;
}

/* Removido: regras que forçavam background nos inputs para permitir estilos do componente */

/* ==========================================
   PROTEÇÃO FINAL - FORÇA OPACIDADE TOTAL
   ========================================== */

/* Removido: regras que forçavam background nos inputs para permitir estilos do componente */

/* ==========================================
   ESTILOS PARA INPUTS DE DATA
   ========================================== */

/* Remove os estilos padrão do navegador para inputs de data */
input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  opacity: 0.7;
  padding: 0;
  margin-left: 0.5rem;
  width: 1.2rem;
  height: 1.2rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%234b5563' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

input[type="date"]::-webkit-calendar-picker-indicator:hover {
  opacity: 1;
}

/* Estilo para dark mode */
@media (prefers-color-scheme: dark) {
  input[type="date"]::-webkit-calendar-picker-indicator {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23d1d5db' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
  }
}

/* Remove estilos do clear button */
input[type="date"]::-webkit-clear-button {
  display: none;
}

/* Firefox */
input[type="date"]::-moz-calendar-picker-indicator {
  opacity: 0.7;
  cursor: pointer;
}

input[type="date"]::-moz-calendar-picker-indicator:hover {
  opacity: 1;
}

/* Melhora a aparência do texto do input de data */
input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  color: hsl(var(--color-foreground));
  padding: 0.25rem;
}

/* Placeholder para input de data vazio */
input[type="date"]::-webkit-datetime-edit {
  color: hsl(var(--color-muted-foreground));
}

input[type="date"]:focus::-webkit-datetime-edit {
  color: hsl(var(--color-foreground));
}

/* ==========================================
   GARANTE BACKGROUND CONSISTENTE EM TODOS OS ESTADOS
   ========================================== */

/* Previne mudança de background quando input está preenchido */
input:not([type="checkbox"]):not([type="radio"]):not([type="file"]),
textarea,
select {
  /* Garante que o background seja controlado pelo componente, não pelo navegador */
  background-color: hsl(var(--color-background));
}

/* Garante que inputs preenchidos mantenham o mesmo background */
input:not([type="checkbox"]):not([type="radio"]):not([type="file"]):valid,
input:not([type="checkbox"]):not([type="radio"]):not([type="file"]):not(:placeholder-shown),
textarea:valid,
textarea:not(:placeholder-shown) {
  background-color: hsl(var(--color-background));
}

/* Previne autocomplete de mudar o background */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px hsl(var(--color-background)) inset !important;
  -webkit-text-fill-color: hsl(var(--color-foreground)) !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* Para dark mode */
@media (prefers-color-scheme: dark) {
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px hsl(var(--color-background)) inset !important;
    -webkit-text-fill-color: hsl(var(--color-foreground)) !important;
  }
}
